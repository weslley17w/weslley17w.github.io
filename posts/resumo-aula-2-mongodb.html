<!DOCTYPE HTML>
<html lang="pt-br" manifest="https://weslleybarros.com.br/blog.appcache">
   <head>
   <meta charset="utf-8">
   <meta name="apple-mobile-web-app-capable" content="yes">
   <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
   <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
   <link rel="alternate" href="https://weslleybarros.com.br" hreflang="pt-BR">
   <link href="http://gmpg.org/xfn/11" rel="profile">
   <meta name="HandheldFriendly" content="True">
   <meta name="MobileOptimized" content="320">
   <meta name="theme-color" content="#005344">
   <title>Resumo Aula 2 MongoDB</title>
   <meta name="google-site-verification" content="zS1dSn20XtA4FJYEOQLXqI0boxZdMnJ2g3beje-cl20">
   <meta name="description" content="Resumo Aula 2 MongoDB">
   <!-- Social: Facebook / Open Graph -->
   <meta property="og:url" content="https://weslleybarros.com.br">
   <meta property="og:title" content="Resumo Aula 2 MongoDB">
   <meta property="og:description" content="Resumo Aula 2 MongoDB">
   <meta property="og:site_name" content="Weslley Barros">
   <meta property="og:locale" content="pt_BR">
   <meta property="og:type" content="website">
   <meta property="og:author" content="http://facebook.com/weslley17w">
   <meta property="og:image" content="https://weslleybarros.com.br">
   <!-- Social: Twitter -->
   <meta name="twitter:card" content="summary_large_image">
   <meta name="twitter:site" content="@weslley17w">
   <meta name="twitter:domain" content="https://weslleybarros.com.br">
   <meta name="twitter:title" content="Resumo Aula 2 MongoDB">
   <meta name="twitter:description" content="Resumo Aula 2 MongoDB">
   <meta name="twitter:image:src" content="http://nandomoreira.me">
   <!-- Favicons -->
   <link rel="apple-touch-icon" sizes="114x114" href="">
   <link rel="apple-touch-icon" sizes="72x72" href="">
   <link rel="apple-touch-icon" href="">
   <link rel="shortcut icon" href="">
   <link rel="canonical" href="https://weslleybarros.com.br">
   <link rel="alternate" type="application/rss+xml" title="Weslley Barros" href="https://weslleybarros.com.br/feed.xml">
   <link rel="icon" type="image/png" href="https://weslleybarros.com.br/assets/img/mug.png" />
   <meta name="viewport" content="width=device-width, initial-scale=1" />
   <!--[if lte IE 8]><script src="https://weslleybarros.com.br/assets/js/ie/html5shiv.js"></script><![endif]-->
   <link rel="stylesheet" href="https://weslleybarros.com.br/assets/css/main.edeed310.css" />
   <!--[if lte IE 9]><link rel="stylesheet" href="https://weslleybarros.com.br/assets/css/ie9.00b7882d.css" /><![endif]-->
   <!--[if lte IE 8]><link rel="stylesheet" href="https://weslleybarros.com.br/assets/css/ie8.2f716e6d.css" /><![endif]-->
</head>

  <body>
    <!-- Wrapper -->
      <div id="wrapper">

        <!-- Header -->
          <header id="header">
            <div class="inner">

              <!-- Logo -->
                <a href="index.html" class="logo">
                  <span class="symbol"><img src="https://weslleybarros.com.br/assets/img/logo.jpg" alt="" /></span><span class="title">Weslley Barros</span>
                </a>

              <!-- Nav -->
                <nav>
                  <ul>
                    <li><a href="#menu">Menu</a></li>
                  </ul>
                </nav>

            </div>
          </header>

        <!-- Menu -->
          <nav id="menu">
            <h2>Menu</h2>
            <ul>
            
               <li><a  href="/">Home</></li>
            
               <li><a target="_blank" href="/feed">Feed</></li>
            
            </ul>
          </nav>

        <!-- Main -->
          <div id="main">
            <div class="inner">
            
              <section class="tiles">
              
                				<!-- Main -->
					<div id="main">
						<div class="merda">
							<h1>Resumo Aula 2 MongoDB</h1>
							<p>Olá pessoal nessa segunda aula nós vamos falar sobre use, insert, save e cursor..</p>

<h1 id="use"># Use</h1>

<p>Vamos lá se você abrir seu terminal subi servido e digitar mongo ira subi client do mongodb por padrão ele irá abrir a database test, mas se eu não quiser usa essa datadabe? Simples à duas maneiras a primero e essa:</p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>mongo
MongoDB shell version: 3.0.7
connecting to: <span class="nb">test
</span>Mongo-Hacker 0.0.9
use sua-db
switched to db sua-db
</code></pre>
</div>
<p>pronto, simples né? Tem outra maneira mas simples ainda:</p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>mongo sua-db
MongoDB shell version: 3.0.7
connecting to: sua-db
Mongo-Hacker 0.0.9
</code></pre>
</div>
<p>Essa é a que minha pessoa prefere, mais isso vai de sua pessoa à que você preferir você usa. Nessa hora se você não conhece mongodb e está acostumado com o relacional deve está me chamando de louco porquê estou ensinando você dá um use database sem ensina como criar uma, mas fique tranquilo que no mongo quando você da um “mongo sua-database” ou “use sua-database” ele “cria ela” está entre parentes pq ele cria um database temporal ele so vai criar ela definitivamente quando você inserir dados em sua database.</p>

<h1 id="insert">#insert</h1>
<p>Agora que nós já aprendemos criar nossa database vamos inserir dados nela, o insert e tão simples como andar de bicicleta, se você conhece json então nem se fala. Então vamos ao codigo.</p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code>mongo minhadb
var suavar <span class="o">=</span>  <span class="o">{</span><span class="s2">"nome"</span>: <span class="s2">"Weslley"</span>, <span class="s2">"idade"</span>: 17<span class="o">}</span>
db.collection.insert<span class="o">(</span>suavar<span class="o">)</span>

// Retornara algo <span class="k">do </span>tipo:

Inserted 1 record<span class="o">(</span>s<span class="o">)</span> <span class="k">in </span>505ms
WriteResult<span class="o">({</span>
  <span class="s2">"nInserted"</span>: 1
<span class="o">})</span>
</code></pre>
</div>

<h1 id="find">#Find</h1>

<p>Agora que você sabe inserir dados em sua database, então vamos listalos.</p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code> mongo suadb
 db.suacolecao.find<span class="o">()</span>
</code></pre>
</div>
<p>Pronto com isso você listou sua coleção, você deve ter percebido que listou todos dados  da sua coleção caso você queira fazer um “WHERE” no mongo você cria um json com a regra:</p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code> mongo suadb
 var query <span class="o">=</span> <span class="o">{</span><span class="s1">'nome'</span>: <span class="s2">"Weslley Barros"</span><span class="o">}</span>
 db.suacoleção.find<span class="o">(</span>query<span class="o">)</span>
</code></pre>
</div>

<p>Com isso você só retornara todos resultados com nome Weslley Barros</p>

<h1 id="save">#Save</h1>

<p>O insert e o save não e muito diferente ele consegue inserir dados na sua coleção igual o insert mas ele tem um recurso especial ele serve pra editar támbem então vamos aprender na linha de comando:</p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code>mongo minhadb
var query <span class="o">=</span> <span class="o">{</span><span class="s2">"nome"</span>: <span class="s2">"Weslley"</span>, <span class="s2">"idade"</span>: 17<span class="o">}</span>
db.suacolecao.save<span class="o">(</span>query<span class="o">)</span>
</code></pre>
</div>
<p>ae guri conseguio inserir dados em seu banco de dados de outra forma. Mas como eu falei o save não serve só pra inserir, serve támbem para editar dados. Para isso nos precisamos primeiro salva dados em uma variavel depois edita-lo e por fim salvar.</p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code>mongo minhadb
var query <span class="o">=</span> <span class="o">{</span><span class="s2">"idade"</span>: 17<span class="o">}</span>
var edt <span class="o">=</span> db.suacoleção.findOne<span class="o">(</span>query<span class="o">)</span>;
edt.idade <span class="o">=</span> 18
db.suacoleção.save<span class="o">(</span>edt<span class="o">)</span>
</code></pre>
</div>

<p>Pronto com isso você editor.Você percebeu que eu usei o findOne e não find isso porque eu find retorna de forma de curso vamos ver isso logo abaixo, o findOne retorna um Json com isso fica mais fácil editar eles como você viu logo acima.</p>

<h1 id="curso">#Curso</h1>

<blockquote>
  <p><strong>Nota:</strong>
A pointer to the result set of a query. Clients can iterate through a cursor to retrieve</p>

  <p>Um ponteiro para o conjunto de resultados de uma consulta. Os clientes podem interagir através de um cursor para obter resultados. Por padrão, cursores expiram depois de 10 minutos de inatividade.</p>

  <p><strong>Font:</strong> https://docs.mongodb.org/v3.0/reference/glossary/#term-cursor</p>
</blockquote>

<p><strong>Vamos ao código:</strong></p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code>var c <span class="o">=</span> db.suacolecao.find<span class="o">()</span>

<span class="k">while</span><span class="o">(</span> a.hasNext<span class="o">()</span> <span class="o">)</span> <span class="o">{</span> 
   print<span class="o">(</span>
      tojson<span class="o">(</span>a.next<span class="o">())</span>
  <span class="o">)</span>
<span class="o">}</span>;
</code></pre>
</div>

<blockquote>
  <p><strong>Notas do tio Weslley:</strong>
O find e temporário ou seja você usa uma vez e ele limpa ou seja se você vai c = db.suacolecao.find() e depois c no terminal vai ter retorna nada experiencia propia fiquei umas meia hora fazendo isso :’)</p>
</blockquote>

						</div>
					</div>



              </section>
            

            
                 <div id="disqus_thread"></div>
<script>
    
 
    var disqus_config = function () {
        this.page.url = 'https://weslleybarros.com.br/posts/resumo-aula-2-mongodb';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'https://weslleybarros.com.br'; 
        };
   
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        
        s.src = '//weslley17w.disqus.com/embed.js';
        
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

            
       
            </div>
          </div>

        <!-- Footer -->
          <footer id="footer">
            <div class="inner">
              <section>
                <h2>Entrar em Contato</h2>
                <form name="formcontact">
                  <div class="field half first">
                    <input id="nome" type="text" name="nome" placeholder="Nome" />
                  </div>
                  <div class="field half">
                    <input type="email" name="email" id="email" placeholder="Email" />
                  </div>
                  <div class="field">
                    <textarea name="messagem" id="message" placeholder="Messagem"></textarea>
                  </div>
                  <ul class="actions">
                    <li><input type="submit" value="Enviar" class="special" /></li>
                  </ul>
                </form>
              </section>
              <section>
                <h2>Follow</h2>
                <ul class="icons">
                  <li><a target="_blank" href="https://twitter.com/weslley17w" class="icon style2 fa-twitter"><span class="label">Twitter</span></a></li>
                  <li><a target="_blank" href="https://www.facebook.com/weslley17w" class="icon style2 fa-facebook"><span class="label">Facebook</span></a></li>
                  <li><a target="_blank" href="https://github.com/weslley17w" class="icon style2 fa-github"><span class="label">GitHub</span></a></li>
                  <li><a target="_blank" href="malito:weslley17w@gmail.com" class="icon style2 fa-envelope-o"><span class="label">Email</span></a></li>
                </ul>
              </section>
              <ul class="copyright">
                <li>&copy; Untitled. All rights reserved</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
              </ul>
            </div>
          </footer>

      </div>

    <!-- Scripts -->
      <script src="https://weslleybarros.com.br/assets/js/jquery.min.js"></script>
      <script src="https://weslleybarros.com.br/assets/js/skel.min.js"></script>
      <script src="https://weslleybarros.com.br/assets/js/util.js"></script>
      <!--[if lte IE 8]><script src="https://weslleybarros.com.br/assets/js/ie/respond.min.js"></script><![endif]-->
      <script src="https://weslleybarros.com.br/assets/js/main.js?version=8"></script>
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-50556632-3', 'auto');
      ga('send', 'pageview');

    </script>
      <link rel="stylesheet" href="https://weslleybarros.com.br/assets/css/androidstudio.min.756ddc97.css">
      <script src="https://weslleybarros.com.br/assets/js/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>